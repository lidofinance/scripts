# Ethereum Chain parameters
CHAIN_NETWORK_NAME = "mainnet"
CHAIN_SLOTS_PER_EPOCH = 32
CHAIN_SECONDS_PER_SLOT = 12
CHAIN_GENESIS_TIME = 1606824023
CHAIN_DEPOSIT_CONTRACT = "0x00000000219ab540356cBB839Cbe05303d7705Fa"

# DAO
ARAGON_KERNEL = "0xb8FFC3Cd6e7Cf5a098A1c92F48009765B24088Dc"
LDO_TOKEN = "0x5A98FcBEA516Cf06857215779Fd812CA3beF1B32"
ARAGON_KERNEL_IMPL = "0x2b33CF282f867A7FF693A66e11B0FcC5552e4425"

# Standard (or forked) Aragon apps
ACL = "0x9895F0F17cc1d1891b6f18ee0b483B6f221b37Bb"
AGENT = "0x3e40D73EB977Dc6a537aF587D48316feE66E9C8c"
FINANCE = "0xB9E5CBB9CA5b0d659238807E84D0176930753d86"
VOTING = "0x2e59A20f205bB85a89C53f1936454680651E618e"
TOKEN_MANAGER = "0xf73a1260d222f447210581DDf212D915c09a3249"
ACL_IMPL = "0x9f3b9198911054B122fDb865f8A5Ac516201c339"
VOTING_IMPL = "0x72fb5253AD16307B9E773d2A78CaC58E309d5Ba4"

# Our custom Aragon apps
LIDO = "0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84"
LEGACY_ORACLE = "0x442af784A788A5bd6F42A01Ebe9F287a871243fb"
NODE_OPERATORS_REGISTRY = "0x55032650b14df07b85bF18A3a3eC8E0Af2e028d5"
SIMPLE_DVT = "0xaE7B191A31f627b4eB1d4DaC64eaB9976995b433"

LIDO_IMPL_V1 = "0x47EbaB13B806773ec2A2d16873e2dF770D130b50"
LEGACY_ORACLE_IMPL_V1 = "0x1430194905301504e8830ce4B0b0df7187E84AbD"
NODE_OPERATORS_REGISTRY_IMPL_V1 = "0x5d39ABaa161e622B99D45616afC8B837E9F19a25"  # was used in archived tests
VALIDATOR_EXIT_VERIFIER = "0xbDb567672c867DB533119C2dcD4FB9d8b44EC82f"

# Aragon APM Repos
REPO_APP_ID = "0xbe49cbb8894efb45c933fd09dc87bdd94909553a9e1f511d7fc10f3dad1564f2"
APM_REGISTRY = "0x0cb113890b04B49455DfE06554e2D784598A29C9"
VOTING_REPO = "0x4Ee3118E3858E8D7164A634825BfE0F73d99C792"
LIDO_REPO = "0xF5Dc67E54FC96F993CD06073f71ca732C1E654B1"
NODE_OPERATORS_REGISTRY_REPO = "0x0D97E876ad14DB2b183CFeEB8aa1A5C788eB1831"
LEGACY_ORACLE_REPO = "0xF9339DE629973c60c4d2b76749c81E6F40960E3A"

## LIDO_ARAGON_REPO_IMPL is common for Lido, NodeOperatorsRegistry, Oracle aragon apps
ARAGON_COMMON_REPO_IMPL = "0xa8A358E9bbB9fF60D4B89CBE5b2FE88f98b51B9D"

# Other Aragon contracts
## For LIDO_EVM_SCRIPT_REGISTRY see Aragon Agent 0x853cc0D5917f49B57B8e9F89e491F5E18919093A
ARAGON_EVMSCRIPT_REGISTRY = "0x853cc0D5917f49B57B8e9F89e491F5E18919093A"
## See getEVMScriptExecutor(0x00000001) of any Aragon App or callsScript of LIDO_EASYTRACK_EVMSCRIPTEXECUTOR
ARAGON_CALLS_SCRIPT = "0x5cEb19e1890f677c3676d5ecDF7c501eBA01A054"

# Other (non-aragon) protocol contracts
WSTETH_TOKEN = "0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0"

EXECUTION_LAYER_REWARDS_VAULT = "0x388C818CA8B9251b393131C08a736A67ccB19297"

DEPOSIT_SECURITY_MODULE_V1 = "0x710B3303fB508a84F10793c1106e32bE873C24cd"
WITHDRAWAL_VAULT = "0xB9D7934878B5FB9610B3fE8A5e441e8fad7E293f"

# EasyTracks
EASYTRACK = "0xF0211b7660680B49De1A7E9f25C65660F0a13Fea"

EASYTRACK_EVMSCRIPT_EXECUTOR = "0xFE5986E06210aC1eCC1aDCafc0cc7f8D63B3F977"
EASYTRACK_INCREASE_NOP_STAKING_LIMIT_FACTORY = "0xFeBd8FAC16De88206d4b18764e826AF38546AfE0"
EASYTRACK_SIMPLE_DVT_TRUSTED_CALLER = "0x08637515E85A4633E23dfc7861e2A9f53af640f7"
EASYTRACK_SIMPLE_DVT_ADD_NODE_OPERATORS_FACTORY = "0xcAa3AF7460E83E665EEFeC73a7a542E5005C9639"
EASYTRACK_SIMPLE_DVT_ACTIVATE_NODE_OPERATORS_FACTORY = "0xCBb418F6f9BFd3525CE6aADe8F74ECFEfe2DB5C8"
EASYTRACK_SIMPLE_DVT_DEACTIVATE_NODE_OPERATORS_FACTORY = "0x8B82C1546D47330335a48406cc3a50Da732672E7"
EASYTRACK_SIMPLE_DVT_SET_VETTED_VALIDATORS_LIMITS_FACTORY = "0xD75778b855886Fc5e1eA7D6bFADA9EB68b35C19D"
EASYTRACK_SIMPLE_DVT_SET_NODE_OPERATOR_NAMES_FACTORY = "0x7d509BFF310d9460b1F613e4e40d342201a83Ae4"
EASYTRACK_SIMPLE_DVT_SET_NODE_OPERATOR_REWARD_ADDRESSES_FACTORY = "0x589e298964b9181D9938B84bB034C3BB9024E2C0"
EASYTRACK_SIMPLE_DVT_UPDATE_TARGET_VALIDATOR_LIMITS_FACTORY = "0x161a4552A625844c822954C5AcBac928ee0f399B"
EASYTRACK_SIMPLE_DVT_CHANGE_NODE_OPERATOR_MANAGERS_FACTORY = "0xE31A0599A6772BCf9b2bFc9e25cf941e793c9a7D"
EASYTRACK_CSM_SETTLE_EL_REWARDS_STEALING_PENALTY_FACTORY = "0xF6B6E7997338C48Ea3a8BCfa4BB64a315fDa76f4"
EASYTRACK_MEV_BOOST_ADD_RELAYS_FACTORY = "0x00A3D6260f70b1660c8646Ef25D0820EFFd7bE60"
EASYTRACK_MEV_BOOST_REMOVE_RELAYS_FACTORY = "0x9721c0f77E3Ea40eD592B9DCf3032DaF269c0306"
EASYTRACK_MEV_BOOST_EDIT_RELAYS_FACTORY = "0x6b7863f2c7dEE99D3b744fDAEDbEB1aeCC025535"
EASYTRACK_CURATED_SUBMIT_VALIDATOR_EXIT_REQUEST_HASHES_FACTORY = "0x8aa34dAaF0fC263203A15Bcfa0Ed926D466e59F3"
EASYTRACK_SIMPLE_DVT_SUBMIT_VALIDATOR_EXIT_REQUEST_HASHES_FACTORY = "0xB7668B5485d0f826B86a75b0115e088bB9ee03eE"
EASYTRACK_CS_SET_VETTED_GATE_TREE_FACTORY = "0xBc5642bDD6F2a54b01A75605aAe9143525D97308"

# Multisigs
FINANCE_MULTISIG = "0x48F300bD3C52c7dA6aAbDE4B683dEB27d38B9ABb"
L1_EMERGENCY_BRAKES_MULTISIG = "0x73b047fe6337183A454c5217241D780a932777bD"

# Other
INSURANCE_FUND = "0x8B3f33234ABD88493c0Cd28De33D583B70beDe35"
RELAY_ALLOWED_LIST = "0xF95f069F9AD107938F6ba802a3da87892298610E"
CURVE_REWARDS_MANAGER = "0x753D5167C31fBEB5b49624314d74A957Eb271709"
BALANCER_REWARDS_MANAGER = "0x1dD909cDdF3dbe61aC08112dC0Fdf2Ab949f79D8"

# Auxiliary addresses
LDO_HOLDER_ADDRESS_FOR_TESTS = "0xAD4f7415407B83a081A0Bee22D05A8FDC18B42da"
LDO_VOTE_EXECUTORS_FOR_TESTS = [
    "0x3e40d73eb977dc6a537af587d48316fee66e9c8c",
    "0xb8d83908aab38a159f3da47a59d84db8e1838712",
    "0xa2dfc431297aee387c05beef507e5335e684fbcd",
]
# General network addresses
DAI_TOKEN = "0x6b175474e89094c44da98b954eedeac495271d0f"
USDT_TOKEN = "0xdac17f958d2ee523a2206206994597c13d831ec7"
USDC_TOKEN = "0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48"
WETH_TOKEN = "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"
MATIC_TOKEN = "0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0"

#
# Lido V2 upgrade entries
# Grouped the same as in docs
#

# LidoLocator
LIDO_LOCATOR = "0xC1d0b3DE6792Bf6b4b37EccdcC24e45978Cfd2Eb"
LIDO_LOCATOR_IMPL = "0x2C298963FB763f74765829722a1ebe0784f4F5Cf"

# Other upgrade addresses
LIDO_V2_UPGRADE_TEMPLATE = "0xa818fF9EC93122Bf9401ab4340C42De638CD600a"
DUMMY_IMPL = "0x6F6541C2203196fEeDd14CD2C09550dA1CbEDa31"
INITIAL_DEAD_TOKEN_HOLDER = "0x000000000000000000000000000000000000dead"
DEPLOYER_EOA_LOCATOR = "0x2A78076BF797dAC2D25c9568F79b61aFE565B88C"
DEPLOYER_EOA = "0x8Ea83AD72396f1E0cD2f8E72b1461db8Eb6aF7B5"

# 0x01...withdrawal_vault or Lido.getWithdrawalCredentials()
WITHDRAWAL_CREDENTIALS = "0x010000000000000000000000b9d7934878b5fb9610b3fe8a5e441e8fad7e293f"

# Lido
LIDO_IMPL = "0x17144556fd3424EDC8Fc8A4C940B2D04936d17eb"
# see Lido's proxy appId()
LIDO_ARAGON_APP_ID = "0x3ca7c3e38968823ccb4c78ea688df41356f182ae1d159e4ee608d30d68cef320"
LIDO_MAX_STAKE_LIMIT_ETH = 150_000

# LegacyOracle (former LidoOracle)
## address is LIDO_LEGACY_ORACLE
LEGACY_ORACLE_IMPL = "0xa29b819654cE6224A222bb5f586920105E2D7E0E"
## see LidoOracle's proxy appId()
ORACLE_ARAGON_APP_ID = "0x8b47ba2a8454ec799cd91646e7ec47168e91fd139b23f017455f3e5898aaba93"

# NodeOperatorsRegistry aka Curated Staking Module
NODE_OPERATORS_REGISTRY_IMPL = "0x6828b023e737f96B168aCd0b5c6351971a4F81aE"
## see NodeOperatorsRegistry's proxy appId()
NODE_OPERATORS_REGISTRY_ARAGON_APP_ID = "0x7071f283424072341f856ac9e947e7ec0eb68719f757a7e785979b6b8717579d"
NODE_OPERATORS_REGISTRY_VERSION = 4
NOR_EXIT_DEADLINE_IN_SEC = 172800

CURATED_STAKING_MODULE_STUCK_PENALTY_DELAY = 0
CURATED_STAKING_MODULE_TARGET_SHARE_BP = 10000
CURATED_STAKING_MODULE_MODULE_FEE_BP = 500
CURATED_STAKING_MODULE_TREASURY_FEE_BP = 500
CURATED_STAKING_MODULE_ID = 1
CURATED_STAKING_MODULE_NAME = "curated-onchain-v1"
CURATED_STAKING_MODULE_TYPE = (
    # bytes32("curated-onchain-v1")
    "0x637572617465642d6f6e636861696e2d76310000000000000000000000000000"
)
CURATED_STAKING_MODULE_OPERATORS_COUNT = 39
CURATED_STAKING_MODULE_OPERATORS_ACTIVE_COUNT = 37
CURATED_STAKING_MODULE_PRIORITY_EXIT_SHARE_THRESHOLD = 10_000
CURATED_STAKING_MODULE_MAX_DEPOSITS_PER_BLOCK = 150
CURATED_STAKING_MODULE_MIN_DEPOSITS_BLOCK_DISTANCE = 25

# NodeOperatorsRegistry clone aka SimpleDVT
SIMPLE_DVT_IMPL = "0x6828b023e737f96B168aCd0b5c6351971a4F81aE"
SIMPLE_DVT_REPO = "0x2325b0a607808dE42D918DB07F925FFcCfBb2968"
## see SimpleDVT's proxy appId()
SIMPLE_DVT_ARAGON_APP_NAME = "simple-dvt"
SIMPLE_DVT_ARAGON_APP_ID = "0xe1635b63b5f7b5e545f2a637558a4029dea7905361a2f0fc28c66e9136cf86a4"
SIMPLE_DVT_MODULE_STUCK_PENALTY_DELAY = 0
SIMPLE_DVT_MODULE_TARGET_SHARE_BP = 400
SIMPLE_DVT_MODULE_MODULE_FEE_BP = 800
SIMPLE_DVT_MODULE_TREASURY_FEE_BP = 200
SIMPLE_DVT_MODULE_ID = 2
SIMPLE_DVT_MODULE_NAME = "SimpleDVT"
SIMPLE_DVT_MODULE_TYPE = (
    # bytes32("curated-onchain-v1")
    "0x637572617465642d6f6e636861696e2d76310000000000000000000000000000"
)
SIMPLE_DVT_VERSION = 4
SIMPLE_DVT_MODULE_PRIORITY_EXIT_SHARE_THRESHOLD = 444
SIMPLE_DVT_MODULE_MAX_DEPOSITS_PER_BLOCK = 150
SIMPLE_DVT_MODULE_MIN_DEPOSITS_BLOCK_DISTANCE = 25

# CSM
CS_ORACLE_EPOCHS_PER_FRAME = 225 * 28  # 28 days
CS_MODULE_ID = 3
CS_MODULE_NAME = "Community Staking"
CS_MODULE_MODULE_FEE_BP = 600
CS_MODULE_TREASURY_FEE_BP = 400
CS_MODULE_TARGET_SHARE_BP = 500
CS_MODULE_PRIORITY_EXIT_SHARE_THRESHOLD = 625
CS_MODULE_MAX_DEPOSITS_PER_BLOCK = 30
CS_MODULE_MIN_DEPOSIT_BLOCK_DISTANCE = 25

# OracleDaemonConfig
ORACLE_DAEMON_CONFIG = "0xbf05A929c3D7885a6aeAd833a992dA6E5ac23b09"
NORMALIZED_CL_REWARD_PER_EPOCH = 64
NORMALIZED_CL_REWARD_MISTAKE_RATE_BP = 1000  # 10%
REBASE_CHECK_NEAREST_EPOCH_DISTANCE = 1
REBASE_CHECK_DISTANT_EPOCH_DISTANCE = 23  # 10% of AO 225 epochs frame
VALIDATOR_DELAYED_TIMEOUT_IN_SLOTS = 7200  # 1 day
VALIDATOR_DELINQUENT_TIMEOUT_IN_SLOTS = 28800  # 4 days
NODE_OPERATOR_NETWORK_PENETRATION_THRESHOLD_BP = 100  # 1%
PREDICTION_DURATION_IN_SLOTS = 50400
FINALIZATION_MAX_NEGATIVE_REBASE_EPOCH_SHIFT = 2250  # 10 days
EXIT_EVENTS_LOOKBACK_WINDOW_IN_SLOTS = 14 * 7200  # 14 days

# OracleReportSanityChecker
ORACLE_REPORT_SANITY_CHECKER = "0x6232397ebac4f5772e53285B26c47914E9461E75"
APPEARED_VALIDATORS_PER_DAY_LIMIT = 1800
EXITED_VALIDATORS_PER_DAY_LIMIT = 3600
ANNUAL_BALANCE_INCREASE_BP_LIMIT = 1000  # 10%
SIMULATED_SHARE_RATE_DEVIATION_BP_LIMIT = 50  # 0.5%
MAX_VALIDATOR_EXIT_REQUESTS_PER_REPORT = 600
MAX_ITEMS_PER_EXTRA_DATA_TRANSACTION = 8
MAX_NODE_OPERATORS_PER_EXTRA_DATA_ITEM = 24
REQUEST_TIMESTAMP_MARGIN = 7680  # 2 hours rounded to epoch length
MAX_POSITIVE_TOKEN_REBASE = 750000
INITIAL_SLASHING_AMOUNT_PWEI = 8
INACTIVITY_PENALTIES_AMOUNT_PWEI = 101
CL_BALANCE_ORACLES_ERROR_UPPER_BP_LIMIT = 50

# Burner
BURNER = "0xD15a672319Cf0352560eE76d9e89eAB0889046D3"
TOTAL_NON_COVER_SHARES_BURNT = 32145684728326685744
TOTAL_COVER_SHARES_BURNT = 0

# DepositSecurityModule
DEPOSIT_SECURITY_MODULE = "0xfFA96D84dEF2EA035c7AB153D8B991128e3d72fD"
DEPOSIT_SECURITY_MODULE_V2 = "0xC77F8768774E1c9244BEed705C4354f2113CFc09"  # dsm address before SR V2 enact
DSM_MAX_OPERATORS_PER_UNVETTING = 200
DSM_PAUSE_INTENT_VALIDITY_PERIOD_BLOCKS = 6646
## Migrated from LIDO_DEPOSIT_SECURITY_MODULE_V1
DSM_GUARDIANS = [
    "0x5fd0dDbC3351d009eb3f88DE7Cd081a614C519F1",
    "0x7912Fa976BcDe9c2cf728e213e892AD7588E6AaF",
    "0xd4EF84b638B334699bcf5AF4B0410B8CCD71943f",
    "0xf82D88217C249297C6037BA77CE34b3d8a90ab43",
    "0xa56b128Ea2Ea237052b0fA2a96a387C0E43157d8",
    "0x6d22aE126eB2c37F67a1391B37FF4f2863e61389",
]
DSM_GUARDIAN_QUORUM = 4

# AccountingOracle
# and its corresponding HashConsensus
ACCOUNTING_ORACLE = "0x852deD011285fe67063a08005c71a85690503Cee"
ACCOUNTING_ORACLE_IMPL = "0xE9906E543274cebcd335d2C560094089e9547e8d"
HASH_CONSENSUS_FOR_AO = "0xD624B08C83bAECF0807Dd2c6880C3154a5F0B288"
AO_EPOCHS_PER_FRAME = 225
AO_FAST_LANE_LENGTH_SLOTS = 100
AO_CONSENSUS_VERSION = 4

# ValidatorsExitBusOracle
VALIDATORS_EXIT_BUS_ORACLE = "0x0De4Ea0184c2ad0BacA7183356Aea5B8d5Bf5c6e"
VALIDATORS_EXIT_BUS_ORACLE_IMPL = "0x905A211eD6830Cfc95643f0bE2ff64E7f3bf9b94"
HASH_CONSENSUS_FOR_VEBO = "0x7FaDB6358950c5fAA66Cb5EB8eE5147De3df355a"
VEBO_EPOCHS_PER_FRAME = 75
VEBO_FAST_LANE_LENGTH_SLOTS = 100
VEBO_CONSENSUS_VERSION = 4
MAX_VALIDATORS_PER_REPORT = 600
MAX_EXIT_REQUESTS_LIMIT = 11200
EXITS_PER_FRAME = 1
FRAME_DURATION_IN_SEC = 48


# AccountingOracle and ValidatorsExitBusOracle
## Migrated from LidoOracle (LegacyOracle)
ORACLE_QUORUM = 5
ORACLE_COMMITTEE = (
    # "0x140Bd8FbDc884f48dA7cb1c09bE8A2fAdfea776E", Excluded from members in vote 2025/05/11
    # "0x1d0813bf088BE3047d827D98524fBf779Bc25F00", Excluded from members in vote 2024/01/16
    "0x73181107c8D9ED4ce0bbeF7A0b4ccf3320C41d12",  # Added into members in vote 2024/10/22, moved to the beginning in vote 2025/05/11
    "0x285f8537e1dAeEdaf617e96C742F2Cf36d63CcfB",  # Added into members in vote 2025/05/11
    # "0xA7410857ABbf75043d61ea54e07D57A6EB6EF186", Excluded from members in vote 2025/07/16
    "0x404335BcE530400a5814375E7Ec1FB55fAff3eA2",
    "0x946D3b081ed19173dC83Cd974fC69e1e760B7d78",
    "0x007DE4a5F7bc37E2F26c0cb2E8A95006EE9B89b5",
    "0xc79F702202E3A6B0B6310B537E786B9ACAA19BAf",  # Added into members in vote 2024/01/16
    # "0xEC4BfbAF681eb505B94E4a7849877DC6c600Ca3A", Excluded from members in vote 2024/08/06
    "0x61c91ECd902EB56e314bB2D5c5C07785444Ea1c8",
    # "0x1Ca0fEC59b86F549e1F1184d97cb47794C8Af58d",  Excluded from members in vote 2024/10/22
    "0xe57B3792aDCc5da47EF4fF588883F0ee0c9835C9",  # Added into members in vote 2024/08/06
    "0x4118dad7f348a4063bd15786c299de2f3b1333f3"  # Added into members in vote 2025/07/16
)

# WithdrawalQueueERC721
WITHDRAWAL_QUEUE = "0x889edC2eDab5f40e902b864aD4d7AdE8E412F9B1"
WITHDRAWAL_QUEUE_IMPL = "0xE42C659Dc09109566720EA8b2De186c2Be7D94D9"
WQ_ERC721_TOKEN_NAME = "Lido: stETH Withdrawal NFT"
WQ_ERC721_TOKEN_SYMBOL = "unstETH"
WQ_ERC721_TOKEN_BASE_URI = "https://wq-api.lido.fi/v1/nft"

# TriggerableWithdrawalsGateway
TRIGGERABLE_WITHDRAWALS_GATEWAY = "0xDC00116a0D3E064427dA2600449cfD2566B3037B"

# WithdrawalsVault
WITHDRAWAL_VAULT_IMPL_V1 = "0xe681faB8851484B57F32143FD78548f25fD59980"
WITHDRAWAL_VAULT_IMPL = "0x7D2BAa6094E1C4B60Da4cbAF4A77C3f4694fD53D"

# EIP712StETH
EIP712_STETH = "0x8F73e4C2A6D852bb4ab2A45E6a9CF5715b3228B7"

# StakingRouter
STAKING_ROUTER = "0xFdDf38947aFB03C621C71b06C9C70bce73f12999"

STAKING_ROUTER_IMPL = "0x226f9265CBC37231882b7409658C18bB7738173A"
STAKING_ROUTER_VERSION = 3


# Not a precise but still some estimation of the fees. Assume here that all modules are filled
# SR_MODULES_FEE =
#   curated_module_fee * (100% - sdvt_module_share - cs_module_share)
#   + sdvt_module_fee * sdvt_module_share
#   + cs_module_fee * cs_module_share

SR_MODULES_FEE_BP = (
    CURATED_STAKING_MODULE_MODULE_FEE_BP * (100_00 - SIMPLE_DVT_MODULE_TARGET_SHARE_BP - CS_MODULE_TARGET_SHARE_BP)
    + SIMPLE_DVT_MODULE_MODULE_FEE_BP * SIMPLE_DVT_MODULE_TARGET_SHARE_BP
    + CS_MODULE_MODULE_FEE_BP * CS_MODULE_TARGET_SHARE_BP
) // 100_00

SR_TREASURY_FEE_BP = (
    CURATED_STAKING_MODULE_TREASURY_FEE_BP * (100_00 - SIMPLE_DVT_MODULE_TARGET_SHARE_BP - CS_MODULE_TARGET_SHARE_BP)
    + SIMPLE_DVT_MODULE_TREASURY_FEE_BP * SIMPLE_DVT_MODULE_TARGET_SHARE_BP
    + CS_MODULE_TREASURY_FEE_BP * CS_MODULE_TARGET_SHARE_BP
) // 100_00

SR_MODULES_FEE_E20 = (
    CURATED_STAKING_MODULE_MODULE_FEE_BP * (100_00 - SIMPLE_DVT_MODULE_TARGET_SHARE_BP - CS_MODULE_TARGET_SHARE_BP)
    + SIMPLE_DVT_MODULE_MODULE_FEE_BP * SIMPLE_DVT_MODULE_TARGET_SHARE_BP
    + CS_MODULE_MODULE_FEE_BP * CS_MODULE_TARGET_SHARE_BP
) * 10**12

# same as for SR_MODULES_FEE_E20
SR_TREASURY_FEE_E20 = (
    CURATED_STAKING_MODULE_TREASURY_FEE_BP * (100_00 - SIMPLE_DVT_MODULE_TARGET_SHARE_BP - CS_MODULE_TARGET_SHARE_BP)
    + SIMPLE_DVT_MODULE_TREASURY_FEE_BP * SIMPLE_DVT_MODULE_TARGET_SHARE_BP
    + CS_MODULE_TREASURY_FEE_BP * CS_MODULE_TARGET_SHARE_BP
) * 10**12

SR_BASE_PRECISION_E20 = 100 * 10**18

# GateSeal
GATE_SEAL_FACTORY = "0x6C82877cAC5a7A739f16Ca0A89c0A328B8764A24"
GATE_SEAL = "0x8A854C4E750CDf24f138f34A9061b2f556066912"
GATE_SEAL_PAUSE_DURATION = 1209600
GATE_SEAL_EXPIRY_TIMESTAMP = 1789207187
GATE_SEAL_COMMITTEE = "0x8772E3a2D86B9347A2688f9bc1808A6d8917760C"

VEB_TWG_GATE_SEAL = "0xA6BC802fAa064414AA62117B4a53D27fFfF741F1"
VEB_TWG_GATE_SEAL_PAUSE_DURATION = 1209600
VEB_TWG_GATE_SEAL_EXPIRY_TIMESTAMP = 1789207187
VEB_TWG_SEAL_COMMITTEE = "0x8772E3a2D86B9347A2688f9bc1808A6d8917760C"

# Aragon Permissions test
ACL_DEPLOY_BLOCK_NUMBER = 11473216

# Obsolete (can be removed after V2 upgrade)
SELF_OWNED_STETH_BURNER = "0xB280E33812c0B09353180e92e27b8AD399B07f26"

# Anchor
ANCHOR_VAULT_PROXY = "0xA2F987A546D4CD1c607Ee8141276876C26b72Bdf"

# 0xSplits
SPLIT_MAIN = "0x2ed6c4B5dA6378c7897AC67Ba9e43102Feb694EE"

# Rewards Wrapper (aka ObolLidoSplit)
OBOL_LIDO_SPLIT_FACTORY = "0xA9d94139A310150Ca1163b5E23f3E1dbb7D9E2A6"
OBOL_LIDO_SPLIT_IMPL = "0x2fB59065F049e0D0E3180C6312FA0FeB5Bbf0FE3"

# Ethereum Part for Optimism bridge
L1_TOKEN_RATE_NOTIFIER = "0xe6793B9e4FbA7DE0ee833F9D02bba7DB5EB27823"
L1_OPTIMISM_TOKEN_RATE_PUSHER = "0xd54c1c6413caac3477AC14b2a80D5398E3c32FfE"
L1_OPTIMISM_TOKENS_BRIDGE = "0x76943C0D61395d8F2edF9060e1533529cAe05dE6"
L1_OPTIMISM_TOKENS_BRIDGE_IMPL = "0x29C5c51A031165CE62F964966A6399b81165EFA4"
L1_OPTIMISM_TOKENS_BRIDGE_IMPL_NEW = "0x168Cfea1Ad879d7032B3936eF3b0E90790b6B6D4"
L1_OPTIMISM_CROSS_DOMAIN_MESSENGER = "0x25ace71c97B33Cc4729CF772ae268934F7ab5fA1"

## Optimism Part of Optimism bridge
L2_OPTIMISM_GOVERNANCE_EXECUTOR = "0xefa0db536d2c8089685630fafe88cf7805966fc3"
L2_OPTIMISM_TOKENS_BRIDGE = "0x8E01013243a96601a86eb3153F0d9Fa4fbFb6957"
L2_OPTIMISM_TOKENS_BRIDGE_IMPL = "0x23B96aDD54c479C6784Dd504670B5376B808f4C7"
L2_OPTIMISM_TOKENS_BRIDGE_IMPL_NEW = "0x2734602C0CEbbA68662552CacD5553370B283E2E"
L2_OPTIMISM_TOKEN_RATE_ORACLE = "0x294ED1f214F4e0ecAE31C3Eae4F04EBB3b36C9d0"
L2_OPTIMISM_STETH_TOKEN = "0x76A50b8c7349cCDDb7578c6627e79b5d99D24138"
L2_OPTIMISM_STETH_TOKEN_IMPL = "0xe9b65dA5DcBe92f1b397991C464FF568Dc98D761"
L2_OPTIMISM_WSTETH_TOKEN = "0x1F32b1c2345538c0c6f582fCB022739c4A194Ebb"
L2_OPTIMISM_WSTETH_TOKEN_IMPL = "0x92834c37dF982A13bb0f8C3F6608E26F0546538e"
L2_OPTIMISM_WSTETH_TOKEN_IMPL_NEW = "0xFe57042De76c8D6B1DF0E9E2047329fd3e2B7334"

# TRP
TRP_VESTING_ESCROW_FACTORY = "0xDA1DF6442aFD2EC36aBEa91029794B9b2156ADD0"
TRP_FACTORY_DEPLOY_BLOCK_NUMBER = 16540381

SDVT_APP_ID = "0xe1635b63b5f7b5e545f2a637558a4029dea7905361a2f0fc28c66e9136cf86a4"

CSM_COMMITTEE_MS = "0xC52fC3081123073078698F1EAc2f1Dc7Bd71880f"
CSM_ADDRESS = "0xdA7dE2ECdDfccC6c3AF10108Db212ACBBf9EA83F"
CS_ACCOUNTING_ADDRESS = "0x4d72BFF1BeaC69925F8Bd12526a39BAAb069e5Da"
CS_ORACLE_HASH_CONSENSUS_ADDRESS = "0x71093efF8D8599b5fA340D665Ad60fA7C80688e4"
CS_EARLY_ADOPTION_ADDRESS = "0x3D5148ad93e2ae5DedD1f7A8B3C19E7F67F90c0E"
CS_FEE_DISTRIBUTOR_ADDRESS = "0xD99CC66fEC647E68294C6477B40fC7E0F6F618D0"
CS_FEE_ORACLE_ADDRESS = "0x4D4074628678Bd302921c20573EEa1ed38DdF7FB"
CS_GATE_SEAL_ADDRESS = "0x16Dbd4B85a448bE564f1742d5c8cCdD2bB3185D0"
CS_VERIFIER_ADDRESS = "0xeC6Cc185f671F627fb9b6f06C8772755F587b05d"
CS_VERIFIER_ADDRESS_OLD = "0x3Dfc50f22aCA652a0a6F28a0F892ab62074b5583"
CS_PARAMS_REGISTRY_ADDRESS = "0x9D28ad303C90DF524BA960d7a2DAC56DcC31e428"
CS_EXIT_PENALTIES_ADDRESS = "0x06cd61045f958A209a0f8D746e103eCc625f4193"
CS_STRIKES_ADDRESS = "0xaa328816027F2D32B9F56d190BC9Fa4A5C07637f"
CS_EJECTOR_ADDRESS = "0xc72b58aa02E0e98cF8A4a0E9Dce75e763800802C"
CS_VETTED_GATE_ADDRESS = "0xB314D4A76C457c93150d308787939063F4Cc67E0"
CS_PERMISSIONLESS_GATE_ADDRESS = "0xcF33a38111d0B1246A3F38a838fb41D626B454f0"
CS_VERIFIER_V2_ADDRESS = "0xdC5FE1782B6943f318E05230d688713a560063DC"
CS_GATE_SEAL_V2_ADDRESS = "0xE1686C2E90eb41a48356c1cC7FaA17629af3ADB3"

# DualGovernance
DUAL_GOVERNANCE = "0xC1db28B3301331277e307FDCfF8DE28242A4486E"
TIMELOCK = "0xCE0425301C85c5Ea2A0873A2dEe44d78E02D2316"
DUAL_GOVERNANCE_EXECUTORS = ["0x23E0B465633FF5178808F4A75186E2F2F9537021"] # Executor #1 is admin executor
RESEAL_MANAGER = "0x7914b5a1539b97Bd0bbd155757F25FD79A522d24"
DAO_EMERGENCY_GOVERNANCE = "0x553337946F2FAb8911774b20025fa776B76a7CcE"
ROLES_VALIDATOR = "0x31534e3aFE219B609da3715a00a1479D2A2d7981"
TIME_CONSTRAINTS = "0x2a30F5aC03187674553024296bed35Aa49749DDa"
DUAL_GOVERNANCE_CONFIG_PROVIDER = "0xa1692Af6FDfdD1030E4E9c4Bc429986FA64CB5EF"

EMERGENCY_ACTIVATION_COMMITTEE = "0x8B7854488Fde088d686Ea672B6ba1A5242515f45"
EMERGENCY_EXECUTION_COMMITTEE = "0xC7792b3F2B399bB0EdF53fECDceCeB97FBEB18AF"

RESEAL_COMMITTEE = "0xFFe21561251c49AdccFad065C94Fb4931dF49081"

ESCROW_MASTER_COPY = "0xd6A67636c05BeB5B4a5c90D408b03A63c4e39426"
ESCROW_VETO_SIGNALLING = "0x165813A31446a98c84E20Dda8C101BB3C8228e1c"
MAX_MIN_ASSETS_LOCK_DURATION = 4147200

DUAL_GOVERNANCE_CONFIG_PROVIDER_VALUES = {
    "FIRST_SEAL_RAGE_QUIT_SUPPORT": 1 * 10 ** 16,  # 1% in PercentD16
    "SECOND_SEAL_RAGE_QUIT_SUPPORT": 10 * 10 ** 16,  # 10% in PercentD16
    "MIN_ASSETS_LOCK_DURATION": 18000,  # 5 hours
    "RAGE_QUIT_ETH_WITHDRAWALS_DELAY_GROWTH": 1296000,  # 18 days
    "RAGE_QUIT_ETH_WITHDRAWALS_MIN_DELAY": 5184000,  # 60 days
    "RAGE_QUIT_ETH_WITHDRAWALS_MAX_DELAY": 15552000,  # 180 days
    "RAGE_QUIT_EXTENSION_PERIOD_DURATION": 604800,  # 7 days
    "VETO_COOLDOWN_DURATION": 18000,  # 5 hours
    "VETO_SIGNALLING_DEACTIVATION_MAX_DURATION": 259200,  # 3 days
    "VETO_SIGNALLING_MIN_ACTIVE_DURATION": 18000,  # 5 hours
    "VETO_SIGNALLING_MAX_DURATION": 3888000,  # 45 days
    "VETO_SIGNALLING_MIN_DURATION": 432000,  # 5 days
}

EMERGENCY_PROTECTED_TIMELOCK_VALUES = {
    "MAX_AFTER_SCHEDULE_DELAY": 864000, # 10 days
    "MAX_AFTER_SUBMIT_DELAY": 2592000, # 30 days
    "MAX_EMERGENCY_MODE_DURATION": 31536000, # 1 year
    "MAX_EMERGENCY_PROTECTION_DURATION": 94608000, # 3 years
    "MIN_EXECUTION_DELAY": 259200, # 3 days
    "AFTER_SCHEDULE_DELAY": 86400, # 1 day
    "AFTER_SUBMIT_DELAY": 259200, # 3 days
    "ADMIN_EXECUTOR": DUAL_GOVERNANCE_EXECUTORS[0],
    "GOVERNANCE": DUAL_GOVERNANCE,
    "EMERGENCY_ACTIVATION_COMMITTEE": EMERGENCY_ACTIVATION_COMMITTEE,
    "EMERGENCY_EXECUTION_COMMITTEE": EMERGENCY_EXECUTION_COMMITTEE,
    "EMERGENCY_PROTECTION_DETAILS": (2592000, 0, 1781913600),
}

TIEBREAKER_VALUES = {
    "CORE_COMMITTEE": {
        "ADDRESS": "0xf65614d73952Be91ce0aE7Dd9cFf25Ba15bEE2f5",
        "OWNER": DUAL_GOVERNANCE_EXECUTORS[0],
        "TIMELOCK_DURATION": 2592000,
        "QUORUM": 2,
        "MEMBERS": (
            "0x3D3ba54D54bbFF40F2Dfa2A8e27bD4dE3dab2951",
            "0xDBfa0B8A15a503f25224fcA5F84a3853230A715C",
            "0xBF048f2111497B6Df5E062811f5fC422804D4baE"
        )
    },
    "SUB_COMMITTEES": [
        {
            "ADDRESS": "0x3D3ba54D54bbFF40F2Dfa2A8e27bD4dE3dab2951",
            "OWNER": DUAL_GOVERNANCE_EXECUTORS[0],
            "QUORUM": 3,
            "MEMBERS": (
                "0x805fa0f79DC0DDCD73dCBc23487d2D5bd77de598",
                "0x49769C3443c74f144991cA560ba5F635581B8176",
                "0x9A921867EbB579D137184b397E7D087f1ae716fd",
                "0x81000e270B4f66B8666544E8FEc073e0a23FFf00",
                "0xD8a9072D82a28307279aC0aD3c97Cb61bEe67952"
            )
        },
        {
            "ADDRESS": "0xDBfa0B8A15a503f25224fcA5F84a3853230A715C",
            "OWNER": DUAL_GOVERNANCE_EXECUTORS[0],
            "QUORUM": 5,
            "MEMBERS": (
                "0x9837b0Db0b733DED04D96a0A25Ba1E414A6C4c08",
                "0xDBD124e898839ec8C829d806C0328f069d1bB810",
                "0xf8Bfa395744Cb25fa4368Ffe2344Dc35546092d9",
                "0x8103E9eDC04d87F6DA24A3a0c7778daE689E9D63",
                "0xFCD02C040ceA45DC6CEC3E24F1D3946FCE7077b0",
                "0xD7cABE01709c7E36e9D1fb3248A19b525578a1Fc",
                "0x8ed4dfd3A610CCF1FB45e797bf5D8e0f93084F22"
            )
        },
        {
            "ADDRESS": "0xBF048f2111497B6Df5E062811f5fC422804D4baE",
            "OWNER": DUAL_GOVERNANCE_EXECUTORS[0],
            "QUORUM": 3,
            "MEMBERS": (
                "0x80B2D9FA613c35Ec52B0dA5D84e6A819bcc5e369",
                "0xEC7ABf73f339361ecCA951E1746C90a3e6205BFC",
                "0xb04b6fB471E766D7F21A6AA0E4E25B2AEA0a75AB",
                "0x60BDa95a40d5536303BFcf84D679ca461A23398d",
                "0x5d60F5d653Cc318d1f0ABacd83eD4feeAa6e5804"
            )
        }
    ],
}

DUAL_GOVERNANCE_VALUES = {
    "MAX_TIEBREAKER_ACTIVATION_TIMEOUT": 63072000, # 2 years
    "MIN_TIEBREAKER_ACTIVATION_TIMEOUT": 15768000, # 6 months
    "MAX_SEALABLE_WITHDRAWAL_BLOCKERS_COUNT": 255,
    "PROPOSERS_COUNT": 1,
    "TIEBREAKER_DETAILS": {
        "TIEBREAKER_COMMITTEE": TIEBREAKER_VALUES["CORE_COMMITTEE"]["ADDRESS"],
        "TIEBREAKER_ACTIVATION_TIMEOUT": 31536000, # 1 year
        "WITHDRAWAL_BLOCKERS": (WITHDRAWAL_QUEUE, VALIDATORS_EXIT_BUS_ORACLE, TRIGGERABLE_WITHDRAWALS_GATEWAY),
    }
}
